h2(#SafeNavigationTutorial). Safe navigation tutorial

This tutorial demonstrates the new safe navigation facilities of Eclipse Mars; Eclipse 4.5, EMF 2.11, OCL 6.0.
* Some screenshots may be slightly out of date.

h3. Overview 

In this example you will
* learn about navigation hazards
* switch on safe navigation validation
* use safe navigation to eliminate hazards
* use null free declarations to avoid many safe navigation hazards

h3. References

This tutorial continues the "OCLinEcore tutorial":#OCLinEcoreTutorial.

h3. Evaluation hazards

Evaluation of OCL expressions can give invalid results for internal problems
* divide by zero
* index out of bound for an Ordered Collection
* most navigations of an operation or property from a null source 

In this tutorial we will show how to eliminate the hazards of unsafe navigation from null.

h4. Enable Safe Navigation Diagnosis

Safe navigation is too new and experimental to be enabled by default. You must therefore enable it
explicitly by selecting the *OCL->Unified Pivot Binding* settings from the workspace *Window->Preferences*. You may
alternatively set project-specific preferences from Project property pages.

Change the *Potential null navigation* and *Redundant safe navigation* to *Error* (or warning).

!{width:60%}images/4120-safe-navigation-preferences.png(Safe Navigation Preferences)!

h4. Safe Navigation Diagnosis

We will continue the OCLinEcore tutorial, which you may jump to the end of by *New ->Example... ->OCL Plugins ->OCLinEcore Tutorial*.

Select *Tutorial.ecore* and open with the *OCLinEcore Editor*. 8 errors appear on 5 lines.

!{width:60%}images/4120-raw-safe-navigation-errors.png(Raw Safe Navigation Errors)!

A bit depressing; 5 out of 7 OCL lines have hazards on a longstanding example. The problems arise wherever a null is permitted.

Non-collection values may be null whenever the multiplicity is implicitly or explicitly
*MyType[?]*, which permits either an instance of MyType or null.
The alternative *MyType[==1==]* prohibits a null value.  
